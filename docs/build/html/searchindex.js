Search.setIndex({docnames:["Concepts","Configurations","Distillers","Experiments","Losses","Presets","Tutorial","Utils","index"],envversion:{"sphinx.domains.c":1,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":1,"sphinx.domains.index":1,"sphinx.domains.javascript":1,"sphinx.domains.math":2,"sphinx.domains.python":1,"sphinx.domains.rst":1,"sphinx.domains.std":1,sphinx:56},filenames:["Concepts.rst","Configurations.rst","Distillers.rst","Experiments.md","Losses.rst","Presets.rst","Tutorial.rst","Utils.rst","index.rst"],objects:{"":{adaptor:[0,0,1,""],callback:[0,0,1,""]},"textbrewer.BasicDistiller":{train:[2,2,1,""]},"textbrewer.BasicTrainer":{train:[2,2,1,""]},"textbrewer.DistillationConfig":{from_dict:[1,2,1,""],from_json_file:[1,2,1,""]},"textbrewer.GeneralDistiller":{train:[2,2,1,""]},"textbrewer.MultiTaskDistiller":{train:[2,2,1,""]},"textbrewer.MultiTeacherDistiller":{train:[2,2,1,""]},"textbrewer.TrainingConfig":{from_dict:[1,2,1,""],from_json_file:[1,2,1,""]},"textbrewer.data_utils":{deleting:[7,0,1,""],long_disorder:[7,0,1,""],masking:[7,0,1,""],n_gram_sampling:[7,0,1,""],short_disorder:[7,0,1,""]},"textbrewer.losses":{att_ce_loss:[4,0,1,""],att_ce_mean_loss:[4,0,1,""],att_mse_loss:[4,0,1,""],att_mse_sum_loss:[4,0,1,""],cos_loss:[4,0,1,""],fsp_loss:[4,0,1,""],hid_mse_loss:[4,0,1,""],mmd_loss:[4,0,1,""],pkd_loss:[4,0,1,""]},"textbrewer.presets":{ADAPTOR_KEYS:[5,3,1,""],KD_LOSS_MAP:[5,3,1,""],MATCH_LOSS_MAP:[5,3,1,""],PROJ_MAP:[5,3,1,""],TEMPERATURE_SCHEDULER:[5,3,1,""],WEIGHT_SCHEDULER:[5,3,1,""]},"textbrewer.utils":{display_parameters:[7,0,1,""]},textbrewer:{BasicDistiller:[2,1,1,""],BasicTrainer:[2,1,1,""],DistillationConfig:[1,1,1,""],GeneralDistiller:[2,1,1,""],MultiTaskDistiller:[2,1,1,""],MultiTeacherDistiller:[2,1,1,""],TrainingConfig:[1,1,1,""]}},objnames:{"0":["py","function","Python function"],"1":["py","class","Python class"],"2":["py","method","Python method"],"3":["py","data","Python data"]},objtypes:{"0":"py:function","1":"py:class","2":"py:method","3":"py:data"},terms:{"108m":3,"10k":3,"11k":3,"14m":3,"17m":3,"20k":3,"239k":3,"23k":3,"27k":3,"31m":3,"393k":3,"44m":3,"65m":3,"88k":3,"case":[0,1,3],"class":[0,1,2,3,6],"default":[1,3],"final":0,"float":[1,2,7],"function":[1,2,4,5,6,8],"import":[1,6],"int":[0,1,2,7],"long":7,"new":7,"public":3,"return":[0,1,2,5,6,7],"switch":1,"true":[0,1],"try":[1,6],For:[3,5,6,7],Its:2,The:[0,1,2,3,6,7],These:0,__len__:2,abc:7,about:0,abov:5,acc:3,accumul:1,activ:5,actual:[0,1,2],adapt:6,adaptor:[0,1,2,5,6],adaptor_:[2,6],adaptor_t:[1,2,6],add:[0,5],added:0,adding:[1,6],addit:[0,2],adjust:[0,1,2,5,6],adpt1:2,adpt2:2,advantag:6,advis:6,after:[0,2,3],airaria:6,all:[0,1,3,7],allow:[0,8],along:[0,4],also:6,analysi:6,ani:2,api:8,appli:4,architectur:[3,8],architecur:3,archtectur:3,arg:[0,2],argument:[0,2,3],art:8,articl:6,arxiv:6,assum:6,att_ce_loss:4,att_ce_mean_loss:4,att_mse_loss:4,att_mse_sum_loss:4,attent:[0,1,5],attention_:4,attention_c:[1,5,8],attention_ce_mean:[5,8],attention_mask:0,attention_ms:[1,5,8],attention_mse_sum:[5,8],attention_t:4,attribut:2,augment:[3,6,7],author:6,automat:2,auxiliari:6,avail:[0,1,5,6],averag:4,avoid:6,bac:7,backward:1,base:[3,6,8],basic:[0,2],basicdistil:[0,8],basictrain:[0,8],batch:[0,2,6],batch_postprocessor:[0,2],batch_siz:[0,1,4],bca:7,been:6,befor:[1,6],below:[0,1,3],bert3:3,bert6:3,bert:[3,4,6],beta:5,better:5,between:[0,1,4],bidirect:3,bigru:3,binari:3,block:3,bool:1,both:8,bracket:3,build:6,built:[3,8],cab:7,calcuat:4,calcul:[0,4],call:[0,1,2,6],callabl:2,callback:[0,2,6],can:[0,1,2,5,6],cba:7,cdot:4,charg:0,che:6,check:0,checkpoint:[0,2],chen:6,chines:[6,8],chosen:1,citat:8,cite:6,ckpt_epoch_frequ:1,ckpt_frequenc:1,ckpt_step:1,classfif:0,classif:[3,6,8],classmethod:1,clone:6,cmrc2018:[3,6],cmrc2018_exampl:6,cmrc:3,code:5,cold:6,com:6,combin:8,commonli:0,compar:3,comparison:3,compat:6,comprehens:[3,8],compress:[0,4,8],comput:[0,1,4],concept:8,conclus:6,conduct:0,config:1,configur:[2,6,8],conll2003_exampl:6,conll:[3,6],consid:0,constant:5,construct:[1,6],contain:[0,1,4],convent:[5,8],convert:0,core:[6,8],correspond:[2,7],cos:[5,8],cos_loss:4,cosin:4,could:6,cpu:1,cross:[0,4,5],cuda:1,cui:6,current:[0,1,6],custom:8,custom_match:2,custommatch:2,cwsm:5,cycl:2,data:[0,3,6,8],data_util:7,dataload:[0,2,6],dataparallel:6,dataset:[0,2,6,8],datatyp:0,decai:[3,5],deep:0,def:[0,6],defin:[1,2,4,5,6,8],definit:[3,4],delet:8,demonstr:6,depend:0,design:[6,8],detail:[0,5],dev:3,devic:1,dict:[0,1,2,5,7],dict_object:1,dictionari:0,differ:[0,1,2,3,4,5,6,8],differnt:3,dim:4,dimens:[0,1,4,5],directli:4,directori:[1,6],disabl:1,disord:7,displai:7,display_paramet:[6,8],distil:[1,4,5,6,8],distilbert:[3,4],distill_config:[1,2,3,5,6],distillationconfig:[0,2,3,5,6,8],distillt:8,distribut:7,divid:1,document:5,doe:3,doesn:[0,2,4],doing:0,don:[0,4,8],drcd:[3,6],dure:[0,5,6],dynam:[1,5,6],each:[0,1,2,3,4,7],easi:8,either:0,element:[0,1,2,6,7],embed:3,end:1,english:[6,8],enlgish:3,entiti:3,entropi:[0,4,5],epoch:[1,2,3,6],equivl:3,error:5,especi:8,etc:[0,1],eval:0,evalu:[0,2],everi:[1,7],exampl:[0,1,2,4,5,7,8],except:3,exmapl:3,experi:[0,2,6,8],explain:[2,5],explan:0,ext:3,extra:5,extract:3,fals:1,faq:8,fast:4,faster:0,featur:[0,1,2,4,5,6],fed:2,feed:3,figur:0,file:1,find:6,first:6,five:7,flexibl:[0,2,8],flsw:5,follow:[0,1,3,6,7],form:6,format:0,forward:[0,2,3],found:[0,6],fp16:6,framework:[6,8],freeli:6,from:[1,2,3,4,5,6,7,8],from_dict:1,from_json_fil:1,fsp:[5,8],fsp_loss:4,fst:1,fulli:6,func:[],gamma:5,gener:[0,1],generaldistil:[0,3,6,8],get:8,gift:4,git:6,github:6,given:4,global_step:2,gpu:[1,6],gradient:1,gradient_accumulation_step:1,gram:[5,7,8],ground:[0,1],grow:5,gru:3,guop:6,halv:7,hard:[0,6],hard_label_loss:5,hard_label_weight:[0,1],hard_label_weight_schedul:1,has:[2,6],have:[0,1,2,3,6],help:6,henc:0,here:[0,1,4,6],hid_mse_loss:4,hidden:[0,1,4,5,6],hidden_dim:[0,1],hidden_ms:[1,5,6,8],hidden_s:[3,4],hit:3,hotpotqa:3,how:6,howev:6,http:6,hyperparamt:6,ids:7,iflytek:3,ignor:[0,1,2],implement:0,improv:5,inatermedi:1,includ:[0,1,3,5,6,8],increas:8,index:8,indic:1,inetermediate_match:4,infer:[0,8],initi:[2,6],input:[0,4,5,6],input_id:0,input_mask:4,inputs_mask:[0,4,5],inspect:7,instal:8,instanc:0,intermedi:[0,1,2,5,6,8],intermediate_loss:1,intermediate_match:[1,3,4,5,6],intial:6,introduct:8,issu:8,iter:[0,2],its:[1,2],joint:3,journal:6,json:1,json_filenam:1,just:1,kd_loss_map:1,kd_loss_typ:1,kd_loss_weight:1,kd_loss_weight_schedul:[1,5],kei:[0,1,2,5],knowledg:[4,5,6,8],known:8,knwledg:6,l3_hidden_ms:3,l3_hidden_smmd:3,l3n_hidden_ms:3,l4_hidden_smmd:3,l4t_hidden_ms:3,l6_hidden_ms:3,l6_hidden_smmd:3,l_ng:7,label:[0,1,3,5,6,8],laboratori:3,languag:[6,8],larg:6,larger:6,largest:1,later:5,layer:[1,3,5,6],layer_:[1,4,5,6],layer_t:[1,4,5,6],lcqmc:3,learn:[0,1,2,3,4,6],leav:1,length:[0,1,4,7],lesson:5,let:7,level:7,like:4,linear:[1,4,5],linear_decai:5,linear_growth:5,list:[0,1,2,3,4,5,7],liu:6,log:1,log_dir:1,logit:[0,1,5,6],logits_:4,logits_mask:[0,5],logits_t:4,long_disord:8,loss:[0,1,5,6,8],lr_schedul:0,machin:[3,8],mai:[0,1],make:[0,1,2],map:1,mask:[0,4,8],match:[0,1,2,3,4,5,6],match_loss_map:[1,4],mathcal:1,matric:[0,4],matrix:[0,1,4],max:7,max_level:[6,7],mean:[4,5],meanwhil:1,memori:[1,7,8],method:[0,1,2,6,7,8],metric:3,middl:1,minim:4,mix:6,mmd:[5,8],mmd_loss:4,mnli:[3,6],mnli_exampl:6,mode:6,model1:2,model2:2,model:[0,1,2,4,6,8],model_:[0,2,6],model_input:0,model_output:[0,6],model_t:[0,2,6],modifi:8,modul:[0,2,7,8],more:[0,2,5,6],most:0,mrc:6,mse:[1,4,5],multi:[0,6],multipl:[0,1,2],multitaskdistil:[0,8],multiteacherdistil:[0,8],my_l1_loss:5,my_log_dir:1,my_output_dir:1,my_weight_schedul:5,mymodel:0,n_gram_sampl:8,name:[3,4],natur:[6,8],need:[0,1,4,5,6,8],ner:6,network:4,neuron:4,newsqa:3,nlp:[3,6,8],non:0,none:[0,1,2,3,4,6,7],normal:4,note:3,nst:[1,5,8],nteacher_model:6,num_class:0,num_epoch:[2,6],num_head:[0,1,4],num_label:0,num_step:[1,2],number:[2,3,7],numpi:6,object:2,offer:6,omit:0,onc:1,ones:[1,4],onli:[0,6],open:[6,8],optim:[0,1,2,4,6],option:[0,1,2,4,5,6],order:[0,2],origin:0,other:[1,3,5],otherwis:[0,1,3],our:[3,6],output:[0,2,3,5,6],output_dir:1,over:[2,4],own:[5,6,8],p_ng:7,page:8,pair:[1,3,6],paper:[6,8],param:3,paramet:[0,1,2,3,4,5,6,7],parametr:6,pass:[0,1],patient:4,perform:[0,2,3,6,7,8],pip:6,pkd:[3,5,8],pkd_loss:4,pleas:6,posit:[0,4,7],possibl:[6,7],post:[0,2],pre:[0,4,5,6],predefin:6,predict:1,prepar:[5,6],preprint:6,preset:[1,6,8],print:6,prior:6,probability_shift:[0,1],probabl:[2,7],problem:6,process:[0,2,5,6,8],proj:[1,4],proj_map:1,proport:2,provid:[0,1,2,5,6,7,8],purpos:0,pypi:6,python:6,pytorch:[6,8],quickli:[6,8],quickstart:8,random:[6,7],random_token_exampl:6,randomli:6,rang:7,rate:[0,1,2,3,6],rather:1,rbt3:6,read:[3,8],recogn:0,recognit:3,recommend:[0,2,6],reduc:[1,8],refer:[4,5,8],rel:[3,7,8],relat:[0,1],releas:3,relu:[1,5],rememb:0,reorgan:0,replac:7,repo:6,repres:1,requir:[0,1,4,5,6],research:3,respect:[1,3],result:[4,8],results_:1,results_t:1,retunrn:7,roberta:3,role:2,runabl:6,sacrific:8,same:[0,1,2,3,4],sampl:[2,7],satisfi:5,save:[0,1],saved_model:1,scalar:0,scale:6,schedul:[0,2,5,6],scheme:8,search:8,second:6,see:[0,1,2,4,5],select:[1,4],self:[0,2],sentenc:[3,6],sequenc:[0,3,6,8],sequence_output:0,set:[0,1,2,6],setup:3,sever:3,shape:[0,1,4],shijin:6,ship:6,short_disord:8,should:[0,1,2,7],shouldn:0,show:[6,7],shown:[0,3],similar:4,simpl:[1,6],simple_adaptor:6,simpleadaptor:0,singl:[0,2,3],size:[2,3,4],small:[3,8],smaller:0,soft:6,softmax:[0,4],some:6,sourc:[5,6,8],span:[3,7],specif:3,specifi:[0,1,3,7],speed:[0,8],squad:[3,6],squar:5,stage:[0,6],standard:3,start:[0,2,6,8],state:[0,1,4,6,8],state_:4,state_t:4,statist:6,step:[0,1,2],store:[0,1],str:1,strategi:[0,2,5,6],student:[0,1,2,3,4,6],student_model:6,suitabl:8,sum:[0,1,4,7],supervis:[0,2,5],support:[0,2,6,8],suppos:0,sure:[0,2],swap:7,take:[0,2,3,4,6],tanh:[1,5],task1:2,task2:2,task:[0,2,3,6,8],tasknam:2,tau:2,teacher:[0,1,2,3,4,6],teacher_model:6,techniqu:[6,8],temperatur:[1,3,5,6],temperature_schedul:1,tensor:[0,4],tensorboard:[1,6],tensorboardx:6,term:1,test:[2,3,6],text:[3,6,8],textbrew:[0,1,2,4,5,6,7],textrm:1,than:[0,1,6],thei:0,them:4,theseu:3,thi:[0,1,4,6,7],third:6,three:6,through:6,time:[0,1],ting:6,tini:3,tinybert:3,titl:6,toi:6,token:[6,7],tool:6,toolkit:[6,8],torch:[0,1,2,4,7],total:[0,1],total_loss:0,tqdm:6,tradit:3,train:[0,1,2,5,6],train_config:[1,2,6],trainingconfig:[0,2,6,8],traningconfig:6,transfer:4,transform:[3,6,8],translat:[3,6],treat:7,truth:[0,1],tupl:[0,2],tutori:8,twice:1,two:[0,1,4,7],type:[0,3,7],typic:3,under:[0,1],unifromli:2,unknown:2,unkonwn:2,unless:[0,3],usag:[1,6,7,8],use:[1,3,6,8],used:[0,2,3,4,5,6],user:[1,2,4,6,8],using:[5,6],usual:[0,1,4,6],util:[6,8],valid:5,valu:[0,1,2,3,7],variabl:8,variant:4,varieti:8,variou:[0,6,8],vector:4,version:[3,5],via:[1,4],wai:7,wang:6,want:0,wanxiang:6,weight:[0,1,4,5,6],weight_schedul:1,what:[0,4],when:[3,5,6],whenev:6,where:[0,1,2,4],which:[0,3,4,6,8],whole:[2,5],wide:8,won:0,work:0,workflow:8,would:0,wwm:3,xnli:3,yang:6,year:6,yime:6,you:[0,4,5,6],your:[5,6,8],zhipeng:6,ziqe:6},titles:["Core Concepts","Configurations","Distillers","Experiments","Intermediate Losses","Presets","Tutorial","Model Utils","TextBrewer"],titleterms:{"function":0,adaptor_kei:5,attention_c:4,attention_ce_mean:4,attention_ms:4,attention_mse_sum:4,basicdistil:2,basictrain:2,chines:3,citat:6,concept:0,configur:[0,1,3],convent:0,core:0,cos:4,custom:5,data:7,dataset:3,defin:0,delet:7,display_paramet:7,distil:[0,2,3],distillationconfig:1,english:3,exampl:6,experi:3,faq:6,featur:8,fsp:4,generaldistil:2,gram:4,hidden_ms:4,indic:8,instal:6,intermedi:4,introduct:6,issu:6,kd_loss_map:5,known:6,long_disord:7,loss:4,main:8,mask:7,match_loss_map:5,mmd:4,model:[3,7],modul:5,multitaskdistil:2,multiteacherdistil:2,n_gram_sampl:7,nst:4,pkd:4,preset:5,proj_map:5,quickstart:6,result:3,short_disord:7,tabl:8,temperature_schedul:5,textbrew:8,train:3,trainingconfig:1,tutori:6,user:0,util:7,variabl:5,weight_schedul:5,workflow:6}})